{% extends 'base.html.twig' %}

{% block title %}Hello ProductListController!{% endblock %}

{% block body %}
{# on créé un menu des catégorie #}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav2" aria-controls="navbarNav2" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav2">
                <ul class="navbar-nav">
                    {% for category in categoryListTwig %}
                    <li class="nav-item">
                        <a href="{{ path('product_list_by_category',{'id':category.id}) }}" class="col-12 col-md-1 navbar-brand">{{ category.libelle }}</a>
                    </li>
                    {% endfor %}
                    <li class="nav-item">
                        <a href="{{ path('product_list') }}" class="col-12 col-md-1 navbar-brand">Retour vers la liste des produits</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
<div class="container list_product">
    <div class="row">
{# on affiche la liste des produits reçus #}
        {% for product in productListTwig %}
        <div class="card col-12 col-md-6 col-xl-3 filtre">
            {% if product.file %}
            <img src="{{ asset('uploads/images/' ~ product.file) }}" class="d-none d-md-block card-img-top" alt="...">
            {% else %}
            <img src="{{ asset('uploads/images/concombre-6058c8b3c81eb.jpg') }}" class="d-none d-md-block card-img-top" alt="...">
            {% endif %}
            <div class="card-body">
                <h5 class="card-title">{{ product.name }}</h5>
                <p class="card-text d-none d-md-block">{{ product.description }}</p>
                <p class="card-text">{{ product.price }}</p>
                <a href="{{ path('product_single', {'id':product.id}) }}" class="btn btn-primary">En savoir plus</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
<div class="pagination">
{{ knp_pagination_render(productListTwig) }}
</div>
{% endblock %}
